dist: xenial
sudo: true

language: python

os:
  - linux

python:
  - "2.7"
  - "3.5"
  - "3.6"
  - "3.7"

env:
  - CC=gcc CXX=g++
  - CC=clang CXX=clang++

before_install:
  - python -m pip install -U pip
  - python -m pip install --progress-bar off numpy
  - python -m pip install --progress-bar off pybind11
  - python -m pip install --progress-bar off torch

script:
  - CC=$CXX python setup.py install
  - cd /tmp 
  - python -m prob_phoc.test
  - cd -

notifications:
  email:
      on_success: change
      on_failure: always
